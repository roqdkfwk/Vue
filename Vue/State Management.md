# State Management

- State Management (상태 관리)
    - Vue 컴포넌트는 이미 반응형 상태를 관리하고 있다.
    상태 = 데이터

- 컴포넌트 구조의 단순화
    - 상태 (State)
        - 앱 구동에 필요한 기본 데이터
    - 뷰 (View)
        - 상태를 선언적으로 매핑하여 시각화
    - 기능 (Action)
        - 뷰에서 사용자 입력에 대해 반응적으로 상태를 변경할 수 있게 정의된 동작
        
        ```sql
        <template>
          <!-- View -->
          <div>{{ count }}</div>
        </template>
        
        <script setup>
          import { ref } from 'vue'
          
          <!-- State -->
          const count = ref(0)
          
          <!-- Actions -->
          const increment = function() {
            count.value++
          }
        }
        </script>
        ```
        

- 상태 관리의 단순성이 무너지는 시점
    - 여러 컴포넌트가 상태를 공유할 때
        1. 여러 뷰가 동일한 상태에 종속되는 경우
        2. 서로 다른 뷰의 기능이 동일한 상태를 변경시켜야 하는 경우
    1. 여러 뷰가 동일한 상태에 종속되는 경우
        - 공유 상태를 공통 조상 컴포넌트로 끌어올린 다음 props로 전달하는 것
        - 하지만 계층 구조가 깊어질수록 비효율적이며 관리가 어려워진다.
    2. 서로 다른 뷰의 기능이 동일한 상태를 변경시켜야 하는 경우
        - 발신(emit)된 이벤트를 통해 상태의 여러 복사본을 변경 및 동기화 하는 것
        - 마찬가지로 관리의 패턴이 깨지기 쉽고 유지 관리할 수 없는 코드가 된다.

- 해결책
    - 각 컴포넌트의 공유 상태를 추출하여, 전역에서 참조할 수 있는 저장소에서 관리한다.
    - 컴포넌트 트리는 하나의 큰 “뷰”가 되고 컴포넌트는 트리 계층 구조에 관계없이 상태에 접근하거나 기능을 사용할 수 있다.
    - Vue의 공식 상태 관리 라이브러리는 **피니아(pinia)**가 있다.